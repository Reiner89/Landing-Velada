---
import Logo from "./logo.astro";
---
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
	<meta name="viewport" content="width=device-width" />
	<title>La Velada del AÃ±o3 - Por David Reiner</title>
</head>
<body class="bg-[#131313] relative">
	<header class="relative">
    <Logo/>
	</header>

	<main class="relative">
		<section id="boxers" class={'flex justify-between relative [&>div>img]:animate-ease-in-out [&>div>img]:animate-duration-1000 [&>div>img]:absolute [&>div>img]:bottom-0 [&>div>img]:w-auto h-[40vh] md:h-[65vh] lg:h-screen pt-4 lg:pt-24 border-b border-white/10 overflow-hidden'}>
      <div class="bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-[#131824] via-zinc-900 to-zinc-950 h-full w-full inset-0 absolute">
      </div>
      <div class="absolute inset-0 flex gap-x-3 left-1/2 -translate-x-1/2 justify-center opacity-20 blur-sm">
        <div class="w-2 drop-shadow-lg h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-100 via-gray-300 to-gray-500"> 
        </div>
        <div class="w-2 drop-shadow-lg h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-100 via-gray-300 to-gray-500">
        </div>
        <div class="w-2 drop-shadow-lg h-full bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-100 via-gray-300 to-gray-500">
        </div>
      </div>
      <div class="realtive w-full">
				<img class="left-0 h-[85%] z-50 animate-fade-right" src="/boxers/coscu.webp" alt="Coscu">
				<img class="left-[2%] h-[69%] z-40 animate-delay-300 animate-fade-right" src="/boxers/mayichi.webp" alt="Mayichi">
				<img class="left-[7%] h-[65%] z-30 animate-delay-500 animate-fade-right" src="/boxers/viruzz.webp" alt="Viruzz">
				<img class="left-[15%] h-[59%] z-20 animate-delay-700 animate-fade-right" src="/boxers/fernanfloo.webp" alt="FernanFloo">
				<img class="left-[21%] h-[55%] z-10 animate-delay-1000 animate-fade-right" src="/boxers/la-rivers.webp" alt="La Rivers">
				<img class="left-[23%] h-[49%] z-0 animate-delay-[1300ms] animate-fade-right" src="/boxers/papigavi.webp" alt="PapiGavi">
			</div>
			<div class="realtive w-full">
				<img class="right-0 h-[85%] z-50 animate-fade-left" src="/boxers/german.webp" alt="German">
				<img class="right-[2%] h-[69%] z-40 animate-delay-300 animate-fade-left" src="/boxers/amouranth.webp" alt="Amouranth">
				<img class="right-[7%] h-[65%] z-30 animate-delay-500 animate-fade-left" src="/boxers/shelao.webp" alt="Shelao">
				<img class="right-[15%] h-[59%] z-20 animate-delay-700 animate-fade-left" src="/boxers/luzu.webp" alt="Luzu">
				<img class="right-[21%] h-[55%] z-10 animate-delay-1000 animate-fade-left" src="/boxers/rivers.webp" alt="Rivers">
				<img class="right-[23%] h-[49%] z-0 animate-delay-[1300ms] animate-fade-left" src="/boxers/ampeter.webp" alt="Ampeter">
			</div>
		</section>

    <!-- Caja de la informacion del Combate -->
    <div id="info" class="block lg:absolute lg:mx-auto bottom-48 z-50 lg:left-1/2 lg:-translate-x-1/2">
      <div class="flex flex-col">
        <div class="text-black bg-white pt-2 px-5 pb-1 text-center">
          <h2 class="font-boxing text-7xl">1 De Julio</h2>
        </div>
        <div class="text-white bg-black pt-4 px-5 pb-2 text-center">
          <a class="font-boxing text-[46px] hover:contrast-150 hover:scale-105 transition inline-block" 
             href="https://twitch.tv/ibai" 
             target="_blank" 
             rel="noopener noreferrer">
            <span>twitch.tv/</span>
            <span class="text-blue-500">ibai</span></a>
        </div>
        <div class="text-white bg-blue-400 pt-4 px-5 pb-2 text-center hover:contrast-150 hover:scale-105 transition font-boxing inline-block">
          <a class="font-boxing text-4xl" href="https://twitch.tv/ibai" target="_blank" rel="noopener noreferrer">Comprar Entradas</a>
        </div>
      </div>
    </div>
  <!-- Caja de los peleadores a Pelear -->
    <div id="combat" class="flex flex-col absolute mx-auto bottom-48 gap-y-24 -translate-x-1/2 left-1/2 z-50 opacity-0">
      <div class="bg-black text-white p-5 text-center">
        <h3 class="font-boxing text-7xl">Mayichi</h3>
      </div>
      <span class="block absolute font-boxing left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 text-blue-500 text-7xl">
        VS.
      </span>
      <div class="bg-white text-black p-5 text-center">
        <h3 class="font-boxing text-7xl">Amouranth</h3>
      </div>
    </div>

	</main>

	<footer>

	</footer>
</body>
</html>

<style is:global>
  @font-face {
    font-family: "Boxing";
    src: url("/fonts/boxing.otf");
    font-weight: bold;
  }
  @font-face {
    font-family: "Boxing Striped";
    src: url("/fonts/boxing-striped.woff2");
    font-weight: bold;
  }
</style>

<script>
  // Recuperando imagenes de los boxeadores
  const $boxers = document.querySelector("#boxers");
  const $boxersImages = $boxers.querySelectorAll("img");

  // Cambiando las cajas de texto
  const $info = document.querySelector("#info");
  const $combat = document.querySelector("#combat");
  
  //Cuando el mouse sale de cada imagen
  $boxersImages.forEach(($img) => {
    $img.addEventListener("mouseleave", () => {
      $boxersImages.forEach(($img) => {
        $img.setAttribute("style","transition: all .3s ease-in-out")
      });

      //Mostramos la informacion del evento y ocultamos los nombres de los luchadores
      $info.setAttribute('style','opacity: 1; transition: all .3s ease-in-out');
      $combat.setAttribute('style','opacity: 0; transition: all .3s ease-in-out; visibility: hidden');
    })

    //Cuando el mouse entra a cada imagen
    $img.addEventListener("mouseenter", () => {
      const sectionImages = $img.parentNode.children;
      const position = Array.from(sectionImages).indexOf($img);
      // Obtenemos las imagenes de la izquierda y de la derecha
      const [leftBoxer, rightBoxer] = [
        $boxersImages[position], // de la izquierda
        $boxersImages[position + $boxersImages.length / 2], // de la derecha
      ]

      //Ocultamos la informacion del evento y mostramos el nombre de los luchadores
      $info.setAttribute('style','opacity: 0; transition: all .3s ease-in-out');
      $combat.setAttribute('style','opacity: 1; transition: all .3s ease-in-out');

      //Recuperamos los nombres del array de los luchadores
      const [Firstboxer,Secondboxer] = $combat.querySelectorAll('h3')
      Firstboxer.innerText = leftBoxer.alt
      Secondboxer.innerText = rightBoxer.alt

      // ocultar los boxeadores que no interesan
      $boxersImages.forEach(($img) => {
        $img.setAttribute("style","filter: blur(2px) grayscale(.8); transition: all .3s ease-in-out")
      });

      leftBoxer.setAttribute("style","scale: 1.05; contrast: 1.1; transition: all .3s ease-in-out")

      rightBoxer.setAttribute("style","scale: 1.05; contrast: 1.1; transition: all .3s ease-in-out")
    });
  });

</script>